---
interface Props {
  src: string
  title?: string
  height?: string
}

const { src, title, height = '600px' } = Astro.props
---

<div class="pdf-viewer-container not-prose my-6 overflow-hidden rounded-lg border">
  <div
    class="bg-muted flex items-center justify-between border-b px-4 py-2.5"
  >
    <div class="flex items-center gap-2">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="16"
        height="16"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        class="text-muted-foreground"
      >
        <path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"
        ></path>
        <polyline points="14 2 14 8 20 8"></polyline>
        <path d="M10 12h4"></path>
        <path d="M10 16h4"></path>
      </svg>
      <span class="text-foreground text-sm font-medium"
        >{title || 'PDF Document'}</span
      >
    </div>
    <a
      href={src}
      download
      class="text-muted-foreground hover:text-foreground inline-flex items-center gap-1.5 text-sm transition-colors"
    >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="16"
        height="16"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
      >
        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
        <polyline points="7 10 12 15 17 10"></polyline>
        <line x1="12" x2="12" y1="15" y2="3"></line>
      </svg>
      Download
    </a>
  </div>
  <iframe
    src={src}
    class="w-full"
    style={`height: ${height}`}
    title={title || 'PDF Document'}
    frameborder="0"
  ></iframe>
</div>
